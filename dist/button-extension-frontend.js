console.log("WPZOOM Button Extension Frontend Script Loaded"),document.addEventListener("DOMContentLoaded",(function(){function o(o,t){if(o&&o.includes("color-mix")){if(console.log(`Processing complex color value: ${o}`),o.includes("currentColor")){const o=window.getComputedStyle(t).color;return console.log(`Replacing currentColor with: ${o}`),`${o.replace("rgb","rgba").replace(")",", 0.2)")}`}return o}return o}function t(o,t,e){o.style.setProperty(t,e,"important")}console.log("WPZOOM Button Extension: DOM Content Loaded");const e=document.querySelectorAll(".wp-block-button");console.log("WPZOOM Button Extension: Found "+e.length+" total button containers");const n=document.querySelectorAll(".wp-block-button.has-hover-colors, .wp-block-button[data-hover-background], .wp-block-button[data-hover-text]");if(console.log("WPZOOM Button Extension: Found "+n.length+" button containers with hover attributes"),n.forEach((function(e,n){const r=e.querySelector(".wp-block-button__link");if(!r)return void console.log(`Button container ${n+1} has no button link inside`);let c=e.getAttribute("data-hover-background"),l=e.getAttribute("data-hover-text");if(c=o(c,r),l=o(l,r),console.log(`Processing Button ${n+1}:`,{container:e,button:r,originalHoverBackground:e.getAttribute("data-hover-background"),originalHoverText:e.getAttribute("data-hover-text"),processedHoverBackground:c,processedHoverText:l,containerClasses:e.className,buttonClasses:r.className}),c||l){const o=window.getComputedStyle(r),e=o.backgroundColor,a=o.color;console.log(`Button ${n+1} original colors:`,{backgroundColor:e,textColor:a});const s=document.createElement("div");if(document.body.appendChild(s),c)try{if(s.style.backgroundColor=c,"rgba(0, 0, 0, 0)"===window.getComputedStyle(s).backgroundColor&&"transparent"!==c){console.log(`Invalid background color: ${c}, using fallback`);const o=c.match(/#[0-9A-Fa-f]{6}|#[0-9A-Fa-f]{3}|rgb\([^)]+\)|rgba\([^)]+\)/);o?(c=o[0],console.log(`Extracted color: ${c}`)):(c=a.replace("rgb","rgba").replace(")",", 0.2)"),console.log(`Using fallback color: ${c}`))}}catch(o){console.log(`Error testing background color: ${o.message}`),c=a.replace("rgb","rgba").replace(")",", 0.2)")}document.body.removeChild(s),r.onmouseover=function(){console.log(`Button ${n+1} hover activated`),c&&(t(this,"background-color",c),console.log(`Applied background color: ${c}`)),l&&(t(this,"color",l),console.log(`Applied text color: ${l}`))},r.onmouseout=function(){console.log(`Button ${n+1} hover deactivated`),t(this,"background-color",e),t(this,"color",a)},r.onfocus=r.onmouseover,r.onblur=r.onmouseout}else console.log(`Button ${n+1} has no hover colors defined`)})),0===n.length){console.log("WPZOOM Button Extension: No button containers found with primary selectors. Trying more aggressive approach.");const e=document.querySelectorAll(".wp-block-button, .wp-block-buttons > div");console.log("WPZOOM Button Extension: Found "+e.length+" possible button containers"),e.forEach((function(e,n){const r=e.outerHTML,c=r.includes("data-hover-background"),l=r.includes("data-hover-text");if(c||l){console.log(`Found button container with hover attributes in HTML: Container ${n+1}`);let c=null,l=null;const a=r.match(/data-hover-background="([^"]*)"/);a&&a[1]&&(c=a[1]);const s=r.match(/data-hover-text="([^"]*)"/);s&&s[1]&&(l=s[1]);const u=e.querySelector(".wp-block-button__link, a");if(!u)return void console.log(`Container ${n+1} has no button inside`);c=o(c,u),l=o(l,u),console.log(`Extracted values for Container ${n+1}:`,{originalHoverBackground:e.getAttribute("data-hover-background"),originalHoverText:e.getAttribute("data-hover-text"),processedHoverBackground:c,processedHoverText:l});const i=window.getComputedStyle(u),d=i.backgroundColor,g=i.color;u.onmouseover=function(){console.log(`Button ${n+1} hover activated (aggressive method)`),c&&t(this,"background-color",c),l&&t(this,"color",l)},u.onmouseout=function(){console.log(`Button ${n+1} hover deactivated (aggressive method)`),t(this,"background-color",d),t(this,"color",g)},u.onfocus=u.onmouseover,u.onblur=u.onmouseout}}))}}));
//# sourceMappingURL=button-extension-frontend.js.map