console.log("WPZOOM Button Extension Frontend Script Loaded"),document.addEventListener("DOMContentLoaded",(function(){function o(o,t){if(o&&o.includes("color-mix")){if(console.log(`Processing complex color value: ${o}`),o.includes("currentColor")){const o=window.getComputedStyle(t).color;return console.log(`Replacing currentColor with: ${o}`),`${o.replace("rgb","rgba").replace(")",", 0.2)")}`}return o}return o}console.log("WPZOOM Button Extension: DOM Content Loaded");const t=document.querySelectorAll(".wp-block-button");console.log("WPZOOM Button Extension: Found "+t.length+" total button containers");const e=document.querySelectorAll(".wp-block-button.has-hover-colors, .wp-block-button[data-hover-background], .wp-block-button[data-hover-text]");if(console.log("WPZOOM Button Extension: Found "+e.length+" button containers with hover attributes"),e.forEach((function(t,e){const n=t.querySelector(".wp-block-button__link");if(!n)return void console.log(`Button container ${e+1} has no button link inside`);let r=t.getAttribute("data-hover-background"),l=t.getAttribute("data-hover-text");if(r=o(r,n),l=o(l,n),console.log(`Processing Button ${e+1}:`,{container:t,button:n,originalHoverBackground:t.getAttribute("data-hover-background"),originalHoverText:t.getAttribute("data-hover-text"),processedHoverBackground:r,processedHoverText:l,containerClasses:t.className,buttonClasses:n.className}),t.classList.contains("has-hover-colors")||(console.log(`Adding missing has-hover-colors class to button ${e+1}`),t.classList.add("has-hover-colors")),r||l){const o=window.getComputedStyle(n),t=o.backgroundColor,s=o.color;console.log(`Button ${e+1} original colors:`,{backgroundColor:t,textColor:s}),(n.getAttribute("style")||"").includes("transition")||(n.style.transition="all 0.3s ease");const c=document.createElement("div");if(document.body.appendChild(c),r)try{if(c.style.backgroundColor=r,"rgba(0, 0, 0, 0)"===window.getComputedStyle(c).backgroundColor&&"transparent"!==r){console.log(`Invalid background color: ${r}, using fallback`);const o=r.match(/#[0-9A-Fa-f]{6}|#[0-9A-Fa-f]{3}|rgb\([^)]+\)|rgba\([^)]+\)/);o?(r=o[0],console.log(`Extracted color: ${r}`)):(r=s.replace("rgb","rgba").replace(")",", 0.2)"),console.log(`Using fallback color: ${r}`))}}catch(o){console.log(`Error testing background color: ${o.message}`),r=s.replace("rgb","rgba").replace(")",", 0.2)")}document.body.removeChild(c),n.onmouseover=function(){console.log(`Button ${e+1} hover activated`),r&&(this.style.backgroundColor=r,console.log(`Applied background color: ${r}`)),l&&(this.style.color=l,console.log(`Applied text color: ${l}`))},n.onmouseout=function(){console.log(`Button ${e+1} hover deactivated`),this.style.backgroundColor=t,this.style.color=s},n.onfocus=n.onmouseover,n.onblur=n.onmouseout,n.classList.add("wpzoom-hover-processed"),console.log(`Testing hover effect on Button ${e+1}`),setTimeout((function(){n.dispatchEvent(new MouseEvent("mouseover")),setTimeout((function(){n.dispatchEvent(new MouseEvent("mouseout")),console.log(`Hover test complete for Button ${e+1}`)}),300)}),500+200*e)}else console.log(`Button ${e+1} has no hover colors defined`)})),0===e.length){console.log("WPZOOM Button Extension: No button containers found with primary selectors. Trying more aggressive approach.");const t=document.querySelectorAll(".wp-block-button, .wp-block-buttons > div");console.log("WPZOOM Button Extension: Found "+t.length+" possible button containers"),t.forEach((function(t,e){const n=t.outerHTML,r=n.includes("data-hover-background"),l=n.includes("data-hover-text");if(r||l){console.log(`Found button container with hover attributes in HTML: Container ${e+1}`);let r=null,l=null;const s=n.match(/data-hover-background="([^"]*)"/);s&&s[1]&&(r=s[1]);const c=n.match(/data-hover-text="([^"]*)"/);c&&c[1]&&(l=c[1]);const a=t.querySelector(".wp-block-button__link, a");if(!a)return void console.log(`Container ${e+1} has no button inside`);r=o(r,a),l=o(l,a),console.log(`Extracted values for Container ${e+1}:`,{originalHoverBackground:t.getAttribute("data-hover-background"),originalHoverText:t.getAttribute("data-hover-text"),processedHoverBackground:r,processedHoverText:l});const u=window.getComputedStyle(a),i=u.backgroundColor,d=u.color;(a.getAttribute("style")||"").includes("transition")||(a.style.transition="all 0.3s ease"),a.onmouseover=function(){console.log(`Button ${e+1} hover activated (aggressive method)`),r&&(this.style.backgroundColor=r),l&&(this.style.color=l)},a.onmouseout=function(){console.log(`Button ${e+1} hover deactivated (aggressive method)`),this.style.backgroundColor=i,this.style.color=d},a.onfocus=a.onmouseover,a.onblur=a.onmouseout,a.classList.add("wpzoom-hover-processed")}}))}}));
//# sourceMappingURL=button-extension-frontend.js.map