console.log("WPZOOM Button Extension Frontend Script Loaded"),document.addEventListener("DOMContentLoaded",(function(){function o(o,t){if(o&&o.includes("color-mix")){if(console.log(`Processing complex color value: ${o}`),o.includes("currentColor")){const o=window.getComputedStyle(t).color;return console.log(`Replacing currentColor with: ${o}`),`${o.replace("rgb","rgba").replace(")",", 0.2)")}`}return o}return o}function t(o,t,e){o.style.setProperty(t,e,"important")}console.log("WPZOOM Button Extension: DOM Content Loaded");const e=document.querySelectorAll(".wp-block-button");console.log("WPZOOM Button Extension: Found "+e.length+" total button containers");const n=document.querySelectorAll(".wp-block-button.has-hover-colors, .wp-block-button[data-hover-background], .wp-block-button[data-hover-text]");if(console.log("WPZOOM Button Extension: Found "+n.length+" button containers with hover attributes"),n.forEach((function(e,n){const r=e.querySelector(".wp-block-button__link");if(!r)return void console.log(`Button container ${n+1} has no button link inside`);let c=e.getAttribute("data-hover-background"),l=e.getAttribute("data-hover-text");if(c=o(c,r),l=o(l,r),console.log(`Processing Button ${n+1}:`,{container:e,button:r,originalHoverBackground:e.getAttribute("data-hover-background"),originalHoverText:e.getAttribute("data-hover-text"),processedHoverBackground:c,processedHoverText:l,containerClasses:e.className,buttonClasses:r.className}),e.classList.contains("has-hover-colors")||(console.log(`Adding missing has-hover-colors class to button ${n+1}`),e.classList.add("has-hover-colors")),c||l){const o=window.getComputedStyle(r),e=o.backgroundColor,s=o.color;console.log(`Button ${n+1} original colors:`,{backgroundColor:e,textColor:s}),(r.getAttribute("style")||"").includes("transition")||t(r,"transition","all 0.3s ease");const a=document.createElement("div");if(document.body.appendChild(a),c)try{if(a.style.backgroundColor=c,"rgba(0, 0, 0, 0)"===window.getComputedStyle(a).backgroundColor&&"transparent"!==c){console.log(`Invalid background color: ${c}, using fallback`);const o=c.match(/#[0-9A-Fa-f]{6}|#[0-9A-Fa-f]{3}|rgb\([^)]+\)|rgba\([^)]+\)/);o?(c=o[0],console.log(`Extracted color: ${c}`)):(c=s.replace("rgb","rgba").replace(")",", 0.2)"),console.log(`Using fallback color: ${c}`))}}catch(o){console.log(`Error testing background color: ${o.message}`),c=s.replace("rgb","rgba").replace(")",", 0.2)")}document.body.removeChild(a),r.onmouseover=function(){console.log(`Button ${n+1} hover activated`),c&&(t(this,"background-color",c),console.log(`Applied background color: ${c}`)),l&&(t(this,"color",l),console.log(`Applied text color: ${l}`))},r.onmouseout=function(){console.log(`Button ${n+1} hover deactivated`),t(this,"background-color",e),t(this,"color",s)},r.onfocus=r.onmouseover,r.onblur=r.onmouseout,r.classList.add("wpzoom-hover-processed")}else console.log(`Button ${n+1} has no hover colors defined`)})),0===n.length){console.log("WPZOOM Button Extension: No button containers found with primary selectors. Trying more aggressive approach.");const e=document.querySelectorAll(".wp-block-button, .wp-block-buttons > div");console.log("WPZOOM Button Extension: Found "+e.length+" possible button containers"),e.forEach((function(e,n){const r=e.outerHTML,c=r.includes("data-hover-background"),l=r.includes("data-hover-text");if(c||l){console.log(`Found button container with hover attributes in HTML: Container ${n+1}`);let c=null,l=null;const s=r.match(/data-hover-background="([^"]*)"/);s&&s[1]&&(c=s[1]);const a=r.match(/data-hover-text="([^"]*)"/);a&&a[1]&&(l=a[1]);const i=e.querySelector(".wp-block-button__link, a");if(!i)return void console.log(`Container ${n+1} has no button inside`);c=o(c,i),l=o(l,i),console.log(`Extracted values for Container ${n+1}:`,{originalHoverBackground:e.getAttribute("data-hover-background"),originalHoverText:e.getAttribute("data-hover-text"),processedHoverBackground:c,processedHoverText:l});const u=window.getComputedStyle(i),d=u.backgroundColor,g=u.color;(i.getAttribute("style")||"").includes("transition")||t(i,"transition","all 0.3s ease"),i.onmouseover=function(){console.log(`Button ${n+1} hover activated (aggressive method)`),c&&t(this,"background-color",c),l&&t(this,"color",l)},i.onmouseout=function(){console.log(`Button ${n+1} hover deactivated (aggressive method)`),t(this,"background-color",d),t(this,"color",g)},i.onfocus=i.onmouseover,i.onblur=i.onmouseout,i.classList.add("wpzoom-hover-processed")}}))}}));
//# sourceMappingURL=button-extension-frontend.js.map